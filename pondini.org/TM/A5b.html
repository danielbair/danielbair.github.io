<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="iWeb 3.0.4" name="Generator"/>
<meta content="local-build-20130312" name="iWeb-Build"/>
<meta content="IE=EmulateIE7" http-equiv="X-UA-Compatible"/>
<meta content="width=800" name="viewport"/>
<title>Time Machine - Troubleshooting 
A5b.  How to Repair Time  Machine  Backups
on a Time Capsule</title>
<link href="A5b_files/A5b.css" media="screen,print" rel="stylesheet" type="text/css"/>
<!--[if lt IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='A5b_files/A5bIE.css'/><![endif]-->
<!--[if gte IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='Media/IE8.css'/><![endif]-->
<script src="Scripts/iWebSite.js" type="text/javascript"></script>
<script src="Scripts/iWebImage.js" type="text/javascript"></script>
<script src="A5b_files/A5b.js" type="text/javascript"></script>
</head>
<body onload="onPageLoad();" style="background: rgb(213, 253, 208); margin: 0pt; ">
<div style="text-align: center; ">
<div id="body_content" style="margin-bottom: 10px; margin-left: auto; margin-right: auto; margin-top: 10px; overflow: hidden; position: relative; word-wrap: break-word;  background: rgb(255, 255, 255); text-align: left; width: 800px; "><div id="mirror-banner" style="background-color: #eceff1; width: 100%; margin-bottom: 1em; text-align: center; padding: 0.5em 0"> <p>This is an unofficial mirror of <a href="http://pondini.org">pondini.org</a> by James Pond, who is unfortunately <a href="http://www.beckerfamilyfuneral.com/obituary/3109691" title="Obituary">no longer with us</a>. </p> <p>All rights belong to James' beneficiaries.</p> <p>No guarantee is made about the accuracy or completeness of this mirror. </p></div>
<div id="nav_layer" style="float: left; margin-left: 0px; position: relative; width: 800px; z-index: 0; ">
<div class="bumper" style="height: 0px; line-height: 0px; "> </div>
<div class="spacer" style="clear: both; height: 0px; line-height: 0px; "> </div>
</div>
<div id="header_layer" style="height: 145px; margin-left: 0px; position: relative; width: 800px; z-index: 10; ">
<div class="bumper" style="height: 0px; line-height: 0px; "> </div>
<div class="style_SkipStroke shape-with-text stroke_0" id="id1" style="height: 88px; left: 14px; position: absolute; top: 57px; width: 771px; z-index: 1; ">
<div class="text-content style_External_769_86 vertical-align-middle-middlebox" style="padding: 1px; ">
<div class="style vertical-align-middle-innerbox">
<p class="paragraph_style" style="padding-top: 0pt; "><span class="style_1" style="line-height: 21px; ">Time Machine - Troubleshooting</span><span class="style_2" style="line-height: 27px; "> <br/></span></p>
<p class="paragraph_style_1">A5b.  How to <span class="style_3">Repair</span> Time  Machine  Backups<br/></p>
<p class="paragraph_style_1" style="padding-bottom: 0pt; ">on a Time Capsule</p>
</div>
</div>
</div>
<div class="style_SkipStroke_1 shape-with-text stroke_1" id="id2" style="height: 30px; left: 37px; position: absolute; top: 9px; width: 718px; z-index: 1; ">
<div class="text-content graphic_textbox_layout_style_default_External_716_28" style="padding: 1px; ">
<div class="graphic_textbox_layout_style_default">
<p class="paragraph_style_2" style="padding-bottom: 0pt; padding-top: 0pt; "> <a href="A5a.html" title="A5a.html">Previous</a>        <a href="FAQ.html" title="FAQ.html">Frequently Asked Questions</a>        <a href="Home.html" title="Home.html">Home</a>     <a href="Troubleshooting.html" title="Troubleshooting.html">Troubleshooting</a>      <a href="Contact.html" title="Contact.html">Contact</a>      <a href="A5c.html" title="A5c.html">Next</a>  </p>
</div>
</div>
</div>
</div>
<div id="body_layer" style="margin-left: 0px; position: relative; width: 800px; z-index: 5; ">
<div class="bumper" style="height: 0px; line-height: 0px; "> </div>
<div class="style_SkipStroke_3 shape-with-text" id="id3" style="height: 283px; left: 37px; position: absolute; top: 43px; width: 719px; z-index: 1; ">
<div class="text-content graphic_textbox_layout_style_default_External_719_283" style="padding: 0px; ">
<div class="graphic_textbox_layout_style_default">
<p class="paragraph_style_3" style="padding-top: 0pt; ">First, connect to the Time Capsule via an <span class="style_4">Ethernet cable</span> if at all possible;  it will be 2-3 times faster than via wireless.<br/></p>
<div class="paragraph paragraph_style_3">If you're running 10.6.3 or later, you <span class="style_5">may</span> be able to fix <div class="tinyText style_SkipStroke_2 inline-block stroke_2" style="height: 131px; width: 274px;  clear: right; float: right; height: 131px; margin: 6px 0px 6px 6px; position: relative; width: 274px; "><img alt="" src="A5b_files/A5b%201%20TM%20Menubar%20menu%20w%3AOptions.jpg" style="border: none; height: 131px; width: 274px; "/></div>the backups by holding the <span class="style_5">Alt/Option </span>key while selecting the Time Machine icon in your menubar, and selecting the <span class="style_5">Verify Backups</span> option.   <br/></div>
<p class="paragraph_style_3">Effective with Mountain Lion 10.8.x, if you're using multiple backup drives, this will verify the <span class="style_4">current</span> or <span class="style_4">most recent</span> backup drive only.  To verify a different one, either run (or start) a backup to the desired destination, or use the procedure below.<br/></p>
<p class="paragraph_style_3" style="padding-bottom: 0pt; ">If not, or if that doesn't work, or doesn't solve the problem, use the following procedure:</p>
</div>
<div class="tinyText" style="clear: both; height: 0px; line-height: 0px; "> </div>
</div>
</div>
<div class="style_SkipStroke_4 shape-with-text stroke_3" id="id4" style="height: 814px; left: 42px; position: absolute; top: 1999px; width: 725px; z-index: 1; ">
<div class="text-content style_External_723_812" style="padding: 1px; ">
<div class="style_6">
<p class="paragraph_style_4" style="padding-top: 0pt; ">If Repair Disk fails:<br/></p>
<p class="paragraph_style_5">If Disk Utility says it can't repair the sparse bundle, look closely at the messages.  If it repaired some things, but not everything, run it again (and again) until it either repairs everything or can't repair any more.  <br/></p>
<p class="paragraph_style_5">If Disk Utility can't repair the sparse bundle, it's possible a heavy-duty 3rd-party disk repair app, such as  <a href="http://www.alsoft.com/" title="http://www.alsoft.com/">DiskWarrior</a>, can.  These are expensive (DiskWarrior is about $100), and probably a good investment for the future, but there's no guarantee it will work.  You must be able to "mount" the disk image by double-clicking the sparse bundle for these apps to be able to see and repair it.<br/></p>
<p class="paragraph_style_5">If you decide to do this, be <span class="style_7">sure</span> to use <span class="style_7">only</span> a version that's compatible with the version of OSX on your system.  (If you're not sure what version of OSX you're using, see <a href="http://pondini.org/OSX/OSXversion.html" title="http://pondini.org/OSX/OSXversion.html">What Version of OSX do I have?</a>)<br/></p>
<p class="paragraph_style_5"><br/></p>
<p class="paragraph_style_4">One Last Option:<br/></p>
<p class="paragraph_style_5">If you're comfortable with Terminal and UNIX, the procedure in this post <span class="style_5">might</span> be worth a try: <a href="http://blog.jthon.com/?p=31" title="http://blog.jthon.com/?p=31"> http://blog.jthon.com/?p=31</a>  It was written several years ago, and may or may not work in your situation, especially on later versions of OSX.  <br/></p>
<p class="paragraph_style_6">If you're out of options:<br/></p>
<p class="paragraph_style_5">You <span class="style_7">might</span> be able to recover some of the data, but it’s "iffy" and expensive.  See  <a href="../OSX/Recover.html" title="../OSX/Recover.html">Data Recovery</a> for the gory details.<br/></p>
<p class="paragraph_style_5">Otherwise, your only option is to erase the backups and let Time Machine start over.<br/></p>
<p class="paragraph_style_5">If there's nothing else on the Time Capsule, <span class="style_4">erase</span> it, per <a href="TCQ5.html" title="TCQ5.html">#Q5 in Using Time Machine with a Time Capsule.</a>  But <span class="style_4">do</span><span class="style_8"> </span>select <span class="style_5">Zero Out Disk.  </span>That will take a long time, but if it fails, you know the TC's disk itself has failed.  If it succeeds, the disk <span class="style_5">may</span> be ok.  <br/></p>
<p class="paragraph_style_5" style="padding-bottom: 0pt; ">If there is other data on the Time Capsule, delete the sparse bundle via the Finder.  That will take a long time, too.  If it's extremely slow, you might be able to do it somewhat faster, per the blue box of  <a href="TCQ5.html" title="TCQ5.html">#Q5 in Using Time Machine with a Time Capsule.</a></p>
</div>
</div>
</div>
<div class="style_SkipStroke_1 shape-with-text stroke_4" id="id5" style="height: 38px; left: 13px; position: absolute; top: 2844px; width: 772px; z-index: 1; ">
<div class="text-content style_External_770_36 vertical-align-middle-middlebox" style="padding: 1px; ">
<div class="style_9 vertical-align-middle-innerbox">
<p class="paragraph_style_7" style="padding-bottom: 0pt; padding-top: 0pt; "> <a href="A5a.html" title="A5a.html">Previous</a>         <a href="FAQ.html" title="FAQ.html">Frequently Asked Questions</a>        <a href="Home.html" title="Home.html">Home</a>        <a href="Troubleshooting.html" title="Troubleshooting.html">Troubleshooting</a>       <a href="Contact.html" title="Contact.html">Contact</a>        <a href="A5c.html" title="A5c.html">Next</a></p>
</div>
</div>
</div>
<div class="style_SkipStroke_5 shape-with-text stroke_5" id="id6" style="height: 429px; left: 42px; position: absolute; top: 1514px; width: 725px; z-index: 1; ">
<div class="text-content style_External_723_427" style="padding: 1px; ">
<div class="style_10">
<p class="paragraph_style_8" style="padding-top: 0pt; "><span class="style_11" style="line-height: 27px; ">Repair Messages <br/></span></p>
<div class="paragraph paragraph_style_3">When repairing a <div class="tinyText style_SkipStroke_2 inline-block stroke_2" style="height: 257px; width: 499px;  clear: right; float: right; height: 257px; margin: 6px 0px 6px 6px; position: relative; width: 499px; "><img alt="" src="A5b_files/A5b%203%20Disk%20Repair%20messages.jpg" style="border: none; height: 258px; width: 499px; "/></div><span class="style_5">sparse bundle</span>, the messages may not appear in the center area of the screen.  Click the <span class="style_12">Log</span> icon in the toolbar, or select <span class="style_12">Window &gt; Show Log</span> from the Menubar to display them.<br/></div>
<p class="paragraph_style_3">What you're looking for, of course, is the "appears to be ok" message.  If you get error messages instead, see the <span class="style_13">pink</span><span class="style_14"> </span>box below.<br/></p>
<p class="paragraph_style_3" style="padding-bottom: 0pt; ">Note that this log is kept on your Mac, so if you missed the messages, you can start Disk Utility again and go directly to them, without having to run <span class="style_5">Repair Disk</span> again.  Each task is separated by a row of asterisks.</p>
</div>
<div class="tinyText" style="clear: both; height: 0px; line-height: 0px; "> </div>
</div>
</div>
<div class="style_SkipStroke_6 shape-with-text stroke_6" id="id7" style="height: 1065px; left: 36px; position: absolute; top: 374px; width: 719px; z-index: 1; ">
<div class="text-content style_External_717_1063" style="padding: 1px; ">
<div class="style_10">
<p class="paragraph_style_5" style="padding-top: 0pt; "><span class="style_15" style="line-height: 27px; ">Use the </span><span class="style_16" style="line-height: 27px; ">Disk Utility</span><span class="style_15" style="line-height: 27px; "> app</span><span class="style_17">,</span><span class="style_12"> </span>in your Applications/Utilities folder (or type <span class="style_4">Disk Utility</span> into the Spotlight search box in your menubar).<br/></p>
<p class="paragraph_style_3">Backups made over a network are stored in a container called a <span class="style_5">sparse bundle disk image.</span>   <br/></p>
<div class="paragraph paragraph_style_3">Disk Utility can't see the Time Capsule's internal HD directly, as it can an internal or external HD, but it <span class="style_5">can </span>see the sparse bundle. If the<span class="style_12"> </span>sparse bundle containing your backups does <span class="style_4">not </span>appear in Disk Utility's sidebar <div class="tinyText style_SkipStroke_2 inline-block stroke_2" style="height: 189px; width: 439px;  clear: right; float: right; height: 189px; margin: 6px 0px 6px 6px; position: relative; width: 439px; "><img alt="" src="A5b_files/17b%20Sparse%20Bundles%20via%20Finder.jpg" style="border: none; height: 189px; width: 440px; "/></div>(like the second sample below), open a Finder window, double-click the Time Capsule in the sidebar, then click the <span class="style_12">Data</span> folder (it may have a different name) and locate the sparsebundle (the sample is the Finder in <span class="style_5">Column View</span>). <br/></div>
<p class="paragraph_style_3">(Note:  The .sparsebundle suffix isn't always displayed.)<br/></p>
<p class="paragraph_style_5">If the server isn't shown, from a Finder menubar, select <span class="style_5">Preferences &gt; Sidebar</span> and make sure the <span class="style_5">Connected Servers</span> box is checked.<br/></p>
<p class="paragraph_style_3">If you're backing-up more than one Mac to the Time Capsule, there will be a separate sparse bundle for each Mac.  Drag the one you want from the Finder window to the lower part of <span class="style_12">Disk Utility's</span> sidebar.    It may take a moment to appear.<br/></p>
<p class="paragraph_style_3"><br/></p>
<div class="paragraph paragraph_style_3">Select the sparse <div class="tinyText style_SkipStroke_2 inline-block stroke_2" style="height: 417px; width: 537px;  clear: right; float: right; height: 417px; margin: 6px 0px 6px 6px; position: relative; width: 537px; "><img alt="" src="A5b_files/A5b%202%20Sparse%20bundle%20in%20Disk%20Utility.jpg" style="border: none; height: 418px; width: 537px; "/></div>bundle in the sidebar, click the <span class="style_5">First Aid</span> tab near the top, then the <span class="style_5">Repair Disk</span> button.<br/></div>
<p class="paragraph_style_3">If the <span class="style_5">Repair Disk </span>button isn't enabled, and the "Time Machine Backups" disk image is shown below it, select the disk image  instead.<span class="style_5"><br/></span></p>
<p class="paragraph_style_3">Don't click the <span class="style_5">Verify Disk </span>button first;  if a problem is found, and you <span class="style_4">then</span> click <span class="style_5">Repair Disk, </span>the entire verification is repeated!  <br/></p>
<p class="paragraph_style_9"><br/></p>
<p class="paragraph_style_9" style="padding-bottom: 0pt; ">(If you get a message that the sparse image is in use, or can’t be unmounted, see <a href="C12.html" title="C12.html">section #C12.</a>)</p>
</div>
<div class="tinyText" style="clear: both; height: 0px; line-height: 0px; "> </div>
</div>
</div>
<div class="spacer" style="height: 2882px; line-height: 2882px; "> </div>
</div>
<div id="footer_layer" style="height: 43px; margin-left: 0px; position: relative; width: 800px; z-index: 15; ">
<div class="bumper" style="height: 0px; line-height: 0px; "> </div>
<div class="style_SkipStroke_3 shape-with-text" id="id8" style="height: 36px; left: 713px; position: absolute; top: 7px; width: 70px; z-index: 1; ">
<div class="text-content graphic_textbox_layout_style_default_External_70_36" style="padding: 0px; ">
<div class="graphic_textbox_layout_style_default">
<p class="paragraph_style_10" style="padding-bottom: 0pt; padding-top: 0pt; ">3/12/13</p>
</div>
</div>
</div>
<div class="style_SkipStroke_3 shape-with-text" id="id9" style="height: 22px; left: 248px; position: absolute; top: 21px; width: 297px; z-index: 1; ">
<div class="text-content graphic_textbox_layout_style_default_External_297_22" style="padding: 0px; ">
<div class="graphic_textbox_layout_style_default">
<p class="paragraph_style_11" style="padding-bottom: 0pt; padding-top: 0pt; ">Copyright © 2013 James Pond.  All rights reserved.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
