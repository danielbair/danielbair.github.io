<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="iWeb 3.0.4" name="Generator"/>
<meta content="local-build-20130320" name="iWeb-Build"/>
<meta content="IE=EmulateIE7" http-equiv="X-UA-Compatible"/>
<meta content="width=800" name="viewport"/>
<title>Apple Tips 
 OSX  Maintenance  Scripts</title>
<link href="Scripts_files/Scripts.css" media="screen,print" rel="stylesheet" type="text/css"/>
<!--[if lt IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='Scripts_files/ScriptsIE.css'/><![endif]-->
<!--[if gte IE 8]><link rel='stylesheet' type='text/css' media='screen,print' href='Media/IE8.css'/><![endif]-->
<script src="Scripts/iWebSite.js" type="text/javascript"></script>
<script src="Scripts/iWebImage.js" type="text/javascript"></script>
<script src="Scripts_files/Scripts.js" type="text/javascript"></script>
</head>
<body onload="onPageLoad();" style="background: rgb(255, 223, 205); margin: 0pt; ">
<div style="text-align: center; ">
<div id="body_content" style="margin-bottom: 10px; margin-left: auto; margin-right: auto; margin-top: 10px; overflow: hidden; position: relative; word-wrap: break-word;  background: rgb(255, 255, 255); text-align: left; width: 800px; "><div id="mirror-banner" style="background-color: #eceff1; width: 100%; margin-bottom: 1em; text-align: center; padding: 0.5em 0"> <p>This is an unofficial mirror of <a href="http://pondini.org">pondini.org</a> by James Pond, who is unfortunately <a href="http://www.beckerfamilyfuneral.com/obituary/3109691" title="Obituary">no longer with us</a>. </p> <p>All rights belong to James' beneficiaries.</p> <p>No guarantee is made about the accuracy or completeness of this mirror. </p></div>
<div id="nav_layer" style="float: left; margin-left: 0px; position: relative; width: 800px; z-index: 0; ">
<div class="bumper" style="height: 0px; line-height: 0px; "> </div>
<div class="spacer" style="clear: both; height: 0px; line-height: 0px; "> </div>
</div>
<div id="header_layer" style="height: 134px; margin-left: 0px; position: relative; width: 800px; z-index: 10; ">
<div class="bumper" style="height: 0px; line-height: 0px; "> </div>
<div class="style_SkipStroke shape-with-text stroke_0" id="id1" style="height: 67px; left: 14px; position: absolute; top: 67px; width: 771px; z-index: 1; ">
<div class="text-content style_External_769_65 vertical-align-middle-middlebox" style="padding: 1px; ">
<div class="style vertical-align-middle-innerbox">
<p class="paragraph_style" style="padding-top: 0pt; "><span class="style_1" style="line-height: 21px; ">Apple Tips</span><span class="style_2" style="line-height: 27px; "> <br/></span></p>
<p class="paragraph_style_1" style="padding-bottom: 0pt; "> OSX  Maintenance  Scripts</p>
</div>
</div>
</div>
<div class="style_SkipStroke_1 shape-with-text stroke_1" id="id2" style="height: 37px; left: 36px; position: absolute; top: 11px; width: 724px; z-index: 1; ">
<div class="text-content graphic_textbox_layout_style_default_External_722_35" style="padding: 1px; ">
<div class="graphic_textbox_layout_style_default">
<p class="paragraph_style_2" style="padding-bottom: 0pt; padding-top: 0pt; "><span class="style_3">                  </span><a href="OSXversion.html" title="OSXversion.html">Previous</a><span class="style_3">                         </span><a href="Home.html" title="Home.html">Home</a><span class="style_3">                           </span><a href="TipsContact.html" title="TipsContact.html">Contact</a><span class="style_3">                             </span><a href="TargetDisk.html" title="TargetDisk.html">Next</a> </p>
</div>
</div>
</div>
</div>
<div id="body_layer" style="margin-left: 0px; position: relative; width: 800px; z-index: 5; ">
<div class="bumper" style="height: 0px; line-height: 0px; "> </div>
<div class="style_SkipStroke_1 shape-with-text stroke_2" id="id3" style="height: 39px; left: 31px; position: absolute; top: 1680px; width: 735px; z-index: 1; ">
<div class="text-content style_External_733_37 vertical-align-middle-middlebox" style="padding: 1px; ">
<div class="style_4 vertical-align-middle-innerbox">
<p class="paragraph_style_2" style="padding-bottom: 0pt; padding-top: 0pt; "><span class="style_3">                 </span><a href="OSXversion.html" title="OSXversion.html">Previous</a><span class="style_3">                         </span><a href="Home.html" title="Home.html">Home</a><span class="style_3">                        </span><a href="TipsContact.html" title="TipsContact.html">Contact</a><span class="style_3">                            </span><a href="TargetDisk.html" title="TargetDisk.html">Next</a> </p>
</div>
</div>
</div>
<div class="style_SkipStroke_2 shape-with-text" id="id4" style="height: 300px; left: 50px; position: absolute; top: 27px; width: 712px; z-index: 1; ">
<div class="text-content graphic_textbox_layout_style_default_External_712_300" style="padding: 0px; ">
<div class="graphic_textbox_layout_style_default">
<p class="paragraph_style_3" style="padding-top: 0pt; ">Your Mac runs three periodic "maintenance scripts" in the early morning hours, if possible, between the hours of  3:15 am and 5:00 am, local time.<br/></p>
<p class="paragraph_style_3">Here's what they are, and some of what they do:<br/></p>
<ol>
<li class="full-width" style="line-height: 21px; padding-left: 90px; text-indent: -15px; ">
<p class="paragraph_style_4" style="text-indent: -15px; "><span class="Bullet" style="font-size: 18px; position: relative; top: 0px; ">•</span><span class="inline-block" style="width: 9px; "></span><span class="style_5">Daily</span>: deletes some temporary files, etc., and records various statistics.  On older versions of OSX, some log files are "rotated," but in newer versions that's been moved to another process.  See the blue box below.<br/></p>
</li>
<li class="full-width" style="line-height: 21px; padding-left: 90px; text-indent: -15px; ">
<p class="paragraph_style_4" style="text-indent: -15px; "><span class="Bullet" style="font-size: 18px; position: relative; top: 0px; ">•</span><span class="inline-block" style="width: 9px; "></span><span class="style_5">Weekly</span>:  rebuilds some system databases.<br/></p>
</li>
<li class="full-width" style="line-height: 21px; padding-left: 90px; text-indent: -15px; ">
<p class="paragraph_style_4" style="text-indent: -15px; "><span class="Bullet" style="font-size: 18px; position: relative; top: 0px; ">•</span><span class="inline-block" style="width: 9px; "></span><span class="style_5">Monthly</span>:  rotates some minor log files, records user statistics.<br/></p>
</li>
</ol>
<p class="paragraph_style_5" style="padding-bottom: 0pt; ">(For details, if you're familiar with UNIX, see the man page for <span class="style_6">periodic.conf</span>.)</p>
</div>
</div>
</div>
<div class="style_SkipStroke_3 shape-with-text stroke_3" id="id5" style="height: 181px; left: 57px; position: absolute; top: 357px; width: 692px; z-index: 1; ">
<div class="text-content style_External_690_179" style="padding: 1px; ">
<div class="style_7">
<p class="paragraph_style_3" style="padding-top: 0pt; ">If your Mac is awake between 3:15 am and 5:00 am, the scripts will run automatically.<br/></p>
<p class="paragraph_style_3">On <span class="style_5">Snow Leopard 10.6.x and later</span>, if your Mac is powered-on but sleeping during those hours, the scripts will run shortly after it wakes.<br/></p>
<p class="paragraph_style_3">On <span class="style_5">Leopard</span> or earlier, If your Mac is powered off <span class="style_5">or sleeping</span>, the scripts will <span class="style_5">not</span> run.<br/></p>
<p class="paragraph_style_6" style="padding-bottom: 0pt; ">(If you're not sure what version of OSX you're running, click <a href="OSXversion.html" title="OSXversion.html">here</a>).</p>
</div>
</div>
</div>
<div class="style_SkipStroke_2 shape-with-text" id="id6" style="height: 236px; left: 50px; position: absolute; top: 563px; width: 713px; z-index: 1; ">
<div class="text-content graphic_textbox_layout_style_default_External_713_236" style="padding: 0px; ">
<div class="graphic_textbox_layout_style_default">
<p class="paragraph_style_3" style="padding-top: 0pt; ">It's rarely a problem if these scripts don't run exactly as scheduled.  But if they don't run for an extended time, a bit of extra space may be used on your OSX volume.  This can be magnified if there are other problems, especially any that cause many messages to be sent to your logs.  On occasion, users have had many GBs of space taken up by such files.<br/></p>
<p class="paragraph_style_3">To see when they last ran, use the Console app, per the <span class="style_8">tan</span> box in  <a href="Logs.html" title="Logs.html">OSX Log Files</a>.  You'll find the logs in the sidebar, named <span class="style_9">daily.out</span>, <span class="style_9">weekly.out</span>, and <span class="style_9">monthly.out</span>.  Each will document the date and time, and some of what they've done.<br/></p>
<p class="paragraph_style_3" style="padding-bottom: 0pt; ">The best way to be sure they run is to let your Mac sleep unless it won't be used for a few days.  See  <a href="Sleep.html" title="Sleep.html">Sleeping your Mac vs. Powering it Down</a>  for details.</p>
</div>
</div>
</div>
<div class="style_SkipStroke_4 shape-with-text stroke_4" id="id7" style="height: 396px; left: 45px; position: absolute; top: 838px; width: 707px; z-index: 1; ">
<div class="text-content style_External_705_394" style="padding: 1px; ">
<div class="style_10">
<p class="paragraph_style_7" style="padding-top: 0pt; ">There are some 3rd-party apps that can run the scripts, or you can do it yourself, via the <span class="style_9">Terminal</span> app (in your Applications/Utilities folder.)<br/></p>
<p class="paragraph_style_8">Be extremely careful when using <span class="style_9">Terminal</span>.  It is a direct command-line interface into UNIX, the underpinning of OSX.  Unlike the Finder, there are few protections against making a mistake, which can cause untold damage.<br/></p>
<p class="paragraph_style_7">In Terminal, the prompt looks like this: <span class="style_11">  </span><span class="style_6">&lt;Computer Name&gt;:~ &lt;your name&gt;$</span><span class="style_12"> </span><br/></p>
<p class="paragraph_style_7">(where &lt;your name&gt; is your short user name).  It's followed by a non-blinking block cursor.<br/></p>
<p class="paragraph_style_7">At the prompt, type or copy:<span class="style_13" style="line-height: 16px; ">  </span><span class="style_6">sudo periodic</span> <span class="style_6">all </span>  and press <span class="style_9">Return</span>.<span class="style_6"><br/></span></p>
<p class="paragraph_style_9">(or replace <span class="style_6">all </span>with one or more of  <span class="style_6">daily weekly</span>  or <span class="style_5"> </span><span class="style_6">monthly</span>  separated by spaces.)<br/></p>
<p class="paragraph_style_7">You'll be prompted for your Admin password (which won't be displayed).  Press <span class="style_9">Return </span>again.<br/></p>
<p class="paragraph_style_7" style="padding-bottom: 0pt; ">When it's done, you'll see the prompt again (there's no confirmation message).</p>
</div>
</div>
</div>
<div class="style_SkipStroke_5 shape-with-text stroke_5" id="id8" style="height: 323px; left: 45px; position: absolute; top: 1312px; width: 704px; z-index: 1; ">
<div class="text-content style_External_702_321" style="padding: 1px; ">
<div class="style_7">
<p class="paragraph_style_10" style="padding-top: 0pt; ">Log Files <span class="style_14"><br/></span></p>
<p class="paragraph_style_3"><span class="style_15">Several logs (and some others) are normally "rotated" (#7 deleted, the others incremented, the current </span><span class="style_16">system.log</span><span class="style_15"> compressed into </span><span class="style_16">system.log.0.bz2</span><span class="style_15">, and a new </span><span class="style_17">system.log</span><span class="style_15"> created) by the </span><span class="style_18">newsyslog</span><span class="style_15"> process that runs at 12:30 am local time.  </span><span class="style_19">If your </span><span class="style_20">system.log</span><span class="style_19"> covers many days, just leave your Mac awake at that hour occasionally so they'll get rotated.<br/></span></p>
<ol>
<li class="full-width" style="line-height: 21px; padding-left: 24px; text-indent: -24px; ">
<p class="paragraph_style_11" style="text-indent: -24px; "><span class="Bullet" style="font-size: 0px; position: relative; top: -11px; "></span><span class="inline-block" style="width: 24px; "></span><span class="style_5">If you're comfortable with UNIX and Terminal:</span>  <br/></p>
</li>
<li class="full-width" style="line-height: 21px; padding-left: 45px; text-indent: -20px; ">
<p class="paragraph_style_12" style="text-indent: -20px; "><span class="Bullet" style="font-size: 18px; position: relative; top: 0px; ">•</span><span class="inline-block" style="width: 14px; "></span>The schedule and handling can be altered.  See the MAN pages for <span class="style_9">newsyslog </span>and <span class="style_9">newsyslog.conf</span>.  Alterations may have to be re-done after OSX upgrades.<br/></p>
</li>
<li class="full-width" style="line-height: 21px; padding-left: 45px; text-indent: -20px; ">
<p class="paragraph_style_12" style="text-indent: -20px; "><span class="Bullet" style="font-size: 18px; position: relative; top: 0px; ">•</span><span class="inline-block" style="width: 14px; "></span>You can rotate them immediately.  Copy and paste this after a Terminal prompt:  <br/></p>
</li>
<li class="full-width" style="line-height: 21px; padding-left: 47px; text-indent: -47px; ">
<p class="paragraph_style_13" style="text-indent: -47px; "><span class="Bullet" style="font-size: 0px; position: relative; top: -11px; "></span><span class="inline-block" style="width: 47px; "></span>sudo newsyslog -F /var/log/system.log  <br/></p>
</li>
<li class="full-width" style="line-height: 21px; padding-left: 47px; text-indent: -47px; ">
<p class="paragraph_style_14" style="padding-bottom: 0pt; text-indent: -47px; "><span class="Bullet" style="font-size: 0px; position: relative; top: -11px; "></span><span class="inline-block" style="width: 47px; "></span><span class="style_14">(</span>You'll be prompted for your Admin password, which won't be displayed.)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="spacer" style="height: 1719px; line-height: 1719px; "> </div>
</div>
<div id="footer_layer" style="height: 43px; margin-left: 0px; position: relative; width: 800px; z-index: 15; ">
<div class="bumper" style="height: 0px; line-height: 0px; "> </div>
<div class="style_SkipStroke_2 shape-with-text" id="id9" style="height: 27px; left: 701px; position: absolute; top: 7px; width: 62px; z-index: 1; ">
<div class="text-content graphic_textbox_layout_style_default_External_62_27" style="padding: 0px; ">
<div class="graphic_textbox_layout_style_default">
<p class="paragraph_style_15" style="padding-bottom: 0pt; padding-top: 0pt; ">3/10/13</p>
</div>
</div>
</div>
<div class="style_SkipStroke_2 shape-with-text" id="id10" style="height: 22px; left: 248px; position: absolute; top: 21px; width: 297px; z-index: 1; ">
<div class="text-content graphic_textbox_layout_style_default_External_297_22" style="padding: 0px; ">
<div class="graphic_textbox_layout_style_default">
<p class="paragraph_style_16" style="padding-bottom: 0pt; padding-top: 0pt; ">Copyright © 2013 James Pond.  All rights reserved.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
